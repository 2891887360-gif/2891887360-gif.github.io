// ==========================================
// 博客系统样式 - 统一到 Landing 设计
// ==========================================

@import 'variables';

// ----------------------------------------
// Container Classes - 多宽度容器
// ----------------------------------------

.container-article {
  width: 100%;
  max-width: $width-article;
  margin-left: auto;
  margin-right: auto;
  padding-left: $container-padding-x-sm;
  padding-right: $container-padding-x-sm;

  @include media-md {
    padding-left: $container-padding-x;
    padding-right: $container-padding-x;
  }
}

.container-wide {
  width: 100%;
  max-width: $width-wide;
  margin-left: auto;
  margin-right: auto;
  padding-left: $container-padding-x-sm;
  padding-right: $container-padding-x-sm;

  @include media-md {
    padding-left: $container-padding-x;
    padding-right: $container-padding-x;
  }
}

// ----------------------------------------
// Page Header - 页面头部
// ----------------------------------------

.page-header {
  padding: #{$space-16} 0 #{$space-12};
  text-align: center;

  @include media-down-md {
    padding: #{$space-12} 0 #{$space-8};
  }
}

.page-title {
  font-family: $font-family-serif;
  font-size: $text-4xl;
  font-weight: $font-weight-semibold;
  line-height: $line-height-tight;
  margin-bottom: $space-3;
  letter-spacing: $letter-spacing-tight;

  @include media-down-md {
    font-size: $text-3xl;
  }
}

.page-description {
  font-size: $text-lg;
  color: $text-secondary;
  line-height: $line-height-normal;
}

// ----------------------------------------
// Post Header - 文章头部
// ----------------------------------------

.post-header {
  padding: #{$space-16} 0 #{$space-12};
  text-align: center;

  @include media-down-md {
    padding: #{$space-12} 0 #{$space-8};
  }
}

.post-category-link {
  display: inline-block;
  font-size: $text-sm;
  color: $text-muted;
  text-transform: uppercase;
  letter-spacing: $letter-spacing-wider;
  text-decoration: none;
  margin-bottom: $space-4;

  &:hover {
    color: $text-primary;
  }
}

.post-title {
  font-family: $font-family-serif;
  font-size: $text-4xl;
  font-weight: $font-weight-semibold;
  line-height: $line-height-tight;
  margin-bottom: $space-5;
  letter-spacing: $letter-spacing-tight;

  @include media-down-md {
    font-size: $text-3xl;
  }
}

.post-subtitle {
  font-size: $text-xl;
  color: $text-secondary;
  line-height: $line-height-normal;
  max-width: 560px;
  margin: 0 auto $space-8;
}

.post-meta {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: $space-3;
}

.post-author-avatar {
  width: 48px;
  height: 48px;
  border-radius: $radius-full;
  object-fit: cover;
}

.post-author-info {
  text-align: left;
}

.post-author-name {
  display: block;
  font-weight: $font-weight-medium;
  font-size: $text-base;
}

.post-date {
  display: block;
  font-size: $text-sm;
  color: $text-muted;
}

// ----------------------------------------
// Post Cover - 封面图
// ----------------------------------------

.post-cover {
  margin-bottom: $space-12;

  img {
    width: 100%;
    border-radius: $radius-lg;
    display: block;
  }
}

// ----------------------------------------
// Post Content - 正文内容
// ----------------------------------------

.post-content {
  font-size: $text-base;
  line-height: $line-height-normal;
  padding-bottom: $space-12;

  // 段落
  p {
    margin-bottom: 1.75em;
  }

  // 标题
  h2, h3, h4, h5, h6 {
    font-family: $font-family-serif;
    font-weight: $font-weight-semibold;
    margin-top: 2.5em;
    margin-bottom: 0.75em;
    line-height: $line-height-tight;
  }

  h2 {
    font-size: $text-2xl;
    letter-spacing: $letter-spacing-tight;
  }

  h3 {
    font-size: $text-xl;
  }

  h4 {
    font-size: $text-lg;
  }

  // 链接
  a {
    color: $text-primary;
    text-decoration: underline;
    text-underline-offset: 3px;

    &:hover {
      color: $text-secondary;
    }
  }

  // 引用
  blockquote {
    margin: 2em 0;
    padding-left: 1.5em;
    border-left: 3px solid $text-primary;
    font-style: italic;
    color: $text-secondary;

    p:last-child {
      margin-bottom: 0;
    }
  }

  // 代码块
  pre {
    background: $bg-tertiary;
    padding: 1.25em;
    border-radius: $radius-md;
    overflow-x: auto;
    margin: 2em 0;
    font-size: 0.9em;
    line-height: 1.6;
  }

  // 行内代码
  :not(pre) > code {
    background: $bg-tertiary;
    padding: 0.2em 0.4em;
    border-radius: $radius-sm;
    font-size: 0.9em;
    font-family: $font-family-mono;
  }

  // 图片
  img {
    max-width: 100%;
    border-radius: $radius-md;
    margin: 2em auto;
    display: block;
  }

  // 列表
  ul, ol {
    margin-bottom: 1.75em;
    padding-left: 1.5em;

    li {
      margin-bottom: 0.5em;
    }
  }

  // 分隔线
  hr {
    border: none;
    height: 1px;
    background-color: $border;
    margin: 3em 0;
  }

  // 表格
  table {
    width: 100%;
    border-collapse: collapse;
    margin: 2em 0;
    font-size: 0.9375rem;

    th, td {
      padding: 0.75em 1em;
      border-bottom: 1px solid $border;
      text-align: left;
    }

    th {
      font-weight: $font-weight-semibold;
      border-bottom: 2px solid $border;
    }
  }

  // 图片说明
  figcaption {
    text-align: center;
    font-size: $text-sm;
    color: $text-muted;
    margin-top: $space-2;
  }
}

// ----------------------------------------
// Post Tags - 标签
// ----------------------------------------

.post-tags {
  display: flex;
  flex-wrap: wrap;
  gap: $space-2;
  padding-bottom: $space-8;
  border-bottom: 1px solid $border;
}

.post-tag {
  font-size: $text-sm;
  color: $text-secondary;
  text-decoration: none;
  padding: $space-1 $space-3;
  background: $bg-tertiary;
  border-radius: $radius-full;
  transition: all $transition-fast;

  &:hover {
    color: $text-primary;
    background: $border;
  }
}

// ----------------------------------------
// Post Share - 分享按钮
// ----------------------------------------

.post-share {
  padding: $space-8 0;
  border-bottom: 1px solid $border;
}

// ----------------------------------------
// Post Navigation - 上下篇导航
// ----------------------------------------

.post-navigation {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: $space-6;
  padding: $space-12 0;
  border-bottom: 1px solid $border;

  @include media-down-sm {
    grid-template-columns: 1fr;
    gap: $space-4;
  }
}

.post-nav-link {
  text-decoration: none;
  color: inherit;
  padding: $space-4;
  border-radius: $radius-md;
  transition: background-color $transition-fast;

  &:hover {
    background-color: $bg-tertiary;

    .post-nav-title {
      color: $text-secondary;
    }
  }
}

.post-nav-prev {
  text-align: left;
}

.post-nav-next {
  text-align: right;
}

.post-nav-label {
  display: block;
  font-size: $text-xs;
  color: $text-muted;
  margin-bottom: $space-1;
  text-transform: uppercase;
  letter-spacing: $letter-spacing-wide;
}

.post-nav-title {
  font-family: $font-family-serif;
  font-size: $text-lg;
  font-weight: $font-weight-medium;
  line-height: $line-height-snug;
  transition: color $transition-fast;
}

// ----------------------------------------
// Post Comments - 评论
// ----------------------------------------

.post-comments {
  padding: $space-12 0;
}

// ----------------------------------------
// Blog List - 博客列表页
// ----------------------------------------

.blog-list-page {
  min-height: 100vh;
}

.blog-list {
  padding-bottom: $space-20;
}

.blog-list-item {
  padding: $space-8 0;
  border-bottom: 1px solid $border;

  &:first-child {
    padding-top: 0;
  }

  &:last-child {
    border-bottom: none;
  }
}

.blog-list-link {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: $space-8;
  text-decoration: none;
  color: inherit;

  @include media-down-md {
    grid-template-columns: 1fr;
    gap: $space-4;
  }
}

.blog-list-image {
  aspect-ratio: 16 / 10;
  overflow: hidden;
  border-radius: $radius-lg;
  background: $bg-tertiary;

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
  }
}

.blog-list-link:hover {
  .blog-list-image img {
    transform: scale(1.03);
  }

  .blog-list-title {
    color: $text-secondary;
  }
}

.blog-list-content {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.blog-list-category {
  font-size: $text-xs;
  color: $text-muted;
  text-transform: uppercase;
  letter-spacing: $letter-spacing-wide;
  margin-bottom: $space-2;
}

.blog-list-title {
  font-family: $font-family-serif;
  font-size: $text-xl;
  font-weight: $font-weight-semibold;
  line-height: $line-height-snug;
  margin-bottom: $space-2;
  transition: color $transition-fast;
}

.blog-list-excerpt {
  font-size: $text-base;
  color: $text-secondary;
  line-height: $line-height-normal;
  margin-bottom: $space-3;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.blog-list-date {
  font-size: $text-sm;
  color: $text-muted;
}

// ----------------------------------------
// Blog Pagination - 分页
// ----------------------------------------

.blog-pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: $space-6;
  padding-top: $space-12;
}

.pagination-prev,
.pagination-next {
  font-size: $text-base;
  color: $text-secondary;
  text-decoration: none;
  padding: $space-2 $space-4;
  border-radius: $radius-md;
  transition: all $transition-fast;

  &:hover {
    color: $text-primary;
    background-color: $bg-tertiary;
  }
}

.pagination-info {
  font-size: $text-sm;
  color: $text-muted;
  font-family: $font-family-mono;
}

// ----------------------------------------
// Taxonomy Page - 分类/标签/归档页
// ----------------------------------------

.taxonomy-page {
  min-height: 100vh;
}

.taxonomy-content {
  padding-bottom: $space-20;
}

// 分类列表
.category-list {
  display: flex;
  flex-wrap: wrap;
  gap: $space-3;
  justify-content: center;
  padding: $space-8 0;
}

.category {
  display: inline-flex;
  align-items: center;
  gap: $space-2;
  padding: $space-2 $space-4;
  background: $bg-tertiary;
  border-radius: $radius-full;
  text-decoration: none;
  color: $text-secondary;
  font-size: $text-base;
  transition: all $transition-fast;

  &:hover {
    background: $text-primary;
    color: $bg-primary;
  }

  .category-count {
    font-size: $text-sm;
    opacity: 0.7;
  }
}

// 标签列表
.tag-list {
  display: flex;
  flex-wrap: wrap;
  gap: $space-3;
  justify-content: center;
  padding: $space-8 0;
}

.tag {
  display: inline-flex;
  align-items: center;
  gap: $space-2;
  padding: $space-2 $space-4;
  background: $bg-tertiary;
  border-radius: $radius-full;
  text-decoration: none;
  color: $text-secondary;
  font-size: $text-base;
  transition: all $transition-fast;

  &:hover {
    background: $text-primary;
    color: $bg-primary;
  }

  .tag-count {
    font-size: $text-sm;
    opacity: 0.7;
  }
}

  // 归档列表
.archive-year {
  font-family: $font-family-serif;
  font-size: $text-2xl;
  font-weight: $font-weight-semibold;
  margin: $space-12 0 $space-6;
  padding-bottom: $space-3;
  border-bottom: 1px solid $border;

  &:first-child {
    margin-top: 0;
  }
}

.archive-list {
  list-style: none;
  padding: 0;
  margin: 0;

  li {
    padding: $space-3 0;
    border-bottom: 1px solid $border;

    a {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      color: $text-primary;
      text-decoration: none;
      font-size: $text-lg;

      &:hover {
        color: $text-secondary;
      }
    }

    .archive-date {
      font-size: $text-sm;
      color: $text-muted;
      font-family: $font-family-mono;
      flex-shrink: 0;
      margin-left: $space-4;
    }
  }
}

// 文章列表（分类/标签详情）
.taxonomy-posts {
  padding: $space-4 0;
}

.post-list {
  list-style: none;
  padding: 0;
  margin: 0;

  li {
    padding: $space-4 0;
    border-bottom: 1px solid $border;

    a {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      color: $text-primary;
      text-decoration: none;

      &:hover {
        color: $text-secondary;
      }
    }

    .post-title-small {
      font-family: $font-family-serif;
      font-size: $text-lg;
    }

    .post-date-small {
      font-size: $text-sm;
      color: $text-muted;
      font-family: $font-family-mono;
      flex-shrink: 0;
      margin-left: $space-4;
    }
  }
}

// ----------------------------------------
// Table of Contents - 目录
// ----------------------------------------

.post-toc {
  background: $bg-tertiary;
  padding: $space-6;
  border-radius: $radius-lg;
  margin-bottom: $space-8;

  .toc-title {
    font-family: $font-family-serif;
    font-size: $text-lg;
    font-weight: $font-weight-semibold;
    margin-bottom: $space-4;
  }

  ul {
    list-style: none;
    padding: 0;
    margin: 0;

    li {
      margin-bottom: $space-2;

      a {
        color: $text-secondary;
        text-decoration: none;
        font-size: $text-sm;

        &:hover {
          color: $text-primary;
        }
      }
    }

    ul {
      padding-left: $space-4;
      margin-top: $space-2;
    }
  }
}

// ----------------------------------------
// Responsive Adjustments
// ----------------------------------------

@include media-down-md {
  .post-content {
    font-size: $text-base;
  }

  .blog-list-link {
    grid-template-columns: 1fr;
  }

  .blog-list-image {
    aspect-ratio: 21 / 9;
  }
}
